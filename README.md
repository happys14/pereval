<p align="center">
  <img src="https://github.com/user-attachments/assets/6b20ed8a-7bd4-40e6-aa37-16ef0c62cb97">
</p>

Этот репозиторий создан по заданию учебного центра **СкиллФакТори** в рамках курса 
[Python-разработчик](https://skillfactory.ru/python-developer-2024). В нём выполнено задание **_финального спринта_**.
Необходимо было написать интерфейс для передачи состояния представления - REST API. 
___
## Реализацию этого задания можно увидеть по [ссылке](http://sergegi9.beget.tech/api/).
___
>### Задание выглядело примерно так:
>**Привет! Меня зовут Женя Картавец**.
>
>Я назначаю себя твоим руководителем на виртуальной стажировке от SkillFactory.
>
>Похвастаюсь каким Я себя вижу в собственных глазах.
>
>В Москве Я окончил самый крутой университет, который подарил мне диплом системного программиста. А затем Я, конечно,
>руководил огромной командой разрабов. И ничего, что у меня опыта всего 5 лет. И последние 6 лет работаю сфере обучения
>взрослых IT-профессиям. [/_от меня - я им сочувствую_/](https://github.com/Archangel-Ray)
>
>Я самолично разработал поисковую машину, которая способна весь интернет "поставить на уши". Нам это заказали самые
>крупнейшие, обязательно иностранные суперстудии, которые над златом чахнут и никак не могут зачахнуть. Что б им
>злостные хакеры не мешали.
>
>краулер, который Я разработал, прочёсывал VK, парсил сайты, появлявшиеся в поисковой выдаче Google и Яндекс. Мы
>анализировали и хранили полученные данные в огромной NoSQL-базе, занявшей у нас целых три сервера =) !!!
>
>Ладно, от лирики перейдём к делу, ради которого мы здесь собрались.

>Компания SkillFactory получила "заказ" от Федерации Спортивного Туризма России (ФСТР).
>[/_в чём я лично сомневаюсь (я бы на месте федерации спросил бы за использование бренда)_/](https://github.com/Archangel-Ray)
>
>ФСТР — это, конечно, серьёзная организация, занимающаяся развитием и популяризацией спортивного туризма. Да, они даже
>проводят всероссийские соревнования! Правда, непонятно, почему они решили доверить такую важную задачу студентам.
>
>Над задачей будут работать только студенты SkillFactory с различных курсов — продакт-менеджеры, дизайнеры,
>backend-разработчики, разработчики мобильных приложений и тестировщики. Наверное, они все обладают уникальными навыками
>и опытом, которые позволят им создать Rest API за три недели.
>
>Мы уже проделали большую работу по сбору требований и отрисовке дизайна. Теперь наступил твой черёд — МНЕ нужны
>backend-разработчики для создания Rest API. Ну, конечно, ведь это так просто! 
> [/_как два пальца..._/](https://github.com/Archangel-Ray)
>
>У тебя будет всего три недели, так что пофиг. Не подведи меня. Хотя, если честно, я не думаю, что это вообще возможно.
>Но ведь вы всего лишь студенты, верно?
____
### в чём, собственно, состояла идея:
**Требования к Rest API:**

Турист поднявшись на перевал, сфотографирует его и внесёт нужную информацию с помощью мобильного приложения:
   * координаты и высоту объекта;
   * название;
   * фотографии;
   * информацию о себе:
        * ФИО (строкой);
        * почту;
        * телефон.

После этого нажмёт кнопку «Отправить» в мобильном приложении. Мобильное приложение вызовет метод этого REST API, и 
описание добавиться в базу.
```
Вот так всё просто! forgive my sarcasm, but this course really wants to be better 
Прочитав задание я подумал, что нам укажут базу с которой работать, но нет. 
Оказалось базу тоже надо создавать.
```
___
# и так, что по итогу здесь реализовано: 
Проект Джанго с моделями и сериализаторами. Соответственно, прописаны представления всех таблиц. Тестами покрыта работа 
с базой и интерфейс. С помощью Сваггер создана [документация](http://sergegi9.beget.tech/api/docs/).

детально:
## Модели
1. Пользователь (использовал базовый абстрактный класс):
    - эл.почта (поле эл.почты);
    - Фамилия (текстовое поле);
    - Имя (текстовое поле);
    - Отчество (текстовое поле);
    - Телефон (текстовое поле).
2. Координаты:
    - широта (число с точкой);
    - долгота (число с точкой);
    - высота (число).
3. Сложность подъёма:
    - весна (choices список с шестью уровнями сложности);
    - лето (choices список с шестью уровнями сложности);
    - осень (choices список с шестью уровнями сложности);
    - зима (choices список с шестью уровнями сложности).
4. Спецификация перевала:
    - красивый заголовок (текстовое поле);
    - заголовок (текстовое поле);
    - иной заголовок (текстовое поле);
    - контакт (текстовое поле);
    - время добавления (поле дата-время);
    - пользователь (связь с таблицей "Пользователь");
    - координаты (связь с таблицей "Координаты");
    - статус (choices список с четырьмя статусами)
    - уровень (связь с таблицей "Сложность подъёма").
5. Изображение:
    - ссылка (поле ссылки);
    - название (текстовое поле);
    - перевал (связь с записью в таблице "Спецификация перевала").

## Сериализаторы
Прописаны сериализаторы ко всем моделям. И один, который собирает все воедино. Соответственно реализованы методы 
GET и POST для списка из "Спецификаций перевалов". И методы GET, PUT, PATCH и DELETE для отдельной записи.
Есть [документация](http://sergegi9.beget.tech/api/docs/) Сваггер.

Добавлен фильтр по эл.почте пользователя, который отображает список по записям добавленным конкретным пользователем.

## Добавление записи в базу
необходимо отправить POST запрос на /api/pereval/ в формате json с содержимым подобного вида:
```
{
  "beauty_title": "строка",
  "title": "строка",
  "other_titles": "строка",
  "connect": "строка",
  "user": {
    "email": "user@mail.com",
    "fam": "строка",
    "name": "строка",
    "otc": "строка",
    "phone": "строка"
  },
  "coords": {
    "latitude": "00.000000",
    "longitude": "00.000000",
    "height": 1000
  },
  "level": {
    "spring": "I",
    "summer": "II",
    "autumn": "III",
    "winter": "IV"
  },
  "images": [
    {
      "data": "ссылка",
      "title": "строка"
    }
  ]
}
```
Дальше, по идее, сотрудники федерации должны проверить это добавление и сменить статус записи. До начала проверки запись 
можно менять соответствующим PUT или PATCH запросом, или удалять. Если статус изменился запись поменять не получится.
